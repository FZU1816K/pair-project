package	main;




import java.util.List;

import org.apache.commons.logging.Log;

import org.apache.commons.logging.LogFactory;

import org.apache.http.client.HttpClient;


import org.apache.http.impl.client.HttpClientBuilder;

import db.Mysqlcontrol;

import model.papermodel;

import util.URLFecter;

public class Bugmain {



static final Log logger = LogFactory.getLog(Bugmain.class);



public static void main(String[] args) throws Exception {



HttpClient client = HttpClientBuilder.create().build();
//要爬取的一个地址，这里可以从数据库中抽取数据，然后利用循环，可以爬取一个URL队列

String url= "http://openaccess.thecvf.com/CVPR2018.py";

//抓取的数据

List<papermodel> paperdatas=URLFecter.URLParser(client, url);

//循环输出抓取的数据paper:paperdatas

for ( papermodel paper:paperdatas) {

	logger.info("PaperID:"+paper.getPaperID()+" "+"PaperName:"+paper.getPaperName()+" "+"PaperCento:"+paper.getPapercento());

}

//将抓取的数据插入数据库

Mysqlcontrol.executeInsert(paperdatas);

}

}




